"use strict";(self.webpackChunkmintlayer_docs=self.webpackChunkmintlayer_docs||[]).push([[918],{266:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"whitepaper/blockchain-architecture","title":"1. Blockchain architecture","description":"1.1. Consensus on top of Bitcoin","source":"@site/docs/whitepaper/1-blockchain-architecture.md","sourceDirName":"whitepaper","slug":"/whitepaper/blockchain-architecture","permalink":"/docs/whitepaper/blockchain-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/mintlayer/mintlayer-docs/tree/main/packages/create-docusaurus/templates/shared/docs/whitepaper/1-blockchain-architecture.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Whitepaper","permalink":"/docs/category/whitepaper"},"next":{"title":"2. Mintlayer wallet","permalink":"/docs/whitepaper/mintlayer-wallet"}}');var o=n(4848),a=n(8453);const s={},r="1. Blockchain architecture",c={},h=[{value:"1.1. Consensus on top of Bitcoin",id:"11-consensus-on-top-of-bitcoin",level:2},{value:"1.2. Participation in the network",id:"12-participation-in-the-network",level:2},{value:"1.3. Block frequency and size limit",id:"13-block-frequency-and-size-limit",level:2},{value:"1.4. Checkpoint system",id:"14-checkpoint-system",level:2},{value:"1.5. Token inclusivity",id:"15-token-inclusivity",level:2}];function l(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"1-blockchain-architecture",children:"1. Blockchain architecture"})}),"\n",(0,o.jsx)(t.h2,{id:"11-consensus-on-top-of-bitcoin",children:"1.1. Consensus on top of Bitcoin"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://lh6.googleusercontent.com/1ffvgXb4ZPWGcSUEo42tzpzMXBcIV9rIGdx-79hxy8zo6dSPNTXiRwytCuirPvycqDfH8FseFclEGE7h_wijUxgbO1y6cK6wuhtxmA1sYSJ-l6I6LzAGnAfMgZFc7tb-OQVU4Vxt",alt:""})}),"\n",(0,o.jsx)(t.p,{children:"Mintlayer blockchain is anchored to Bitcoin: every Mintlayer block has a reference to a Bitcoin block. In each Mintlayer round, lasting 1008 Bitcoin blocks, the participants are selected among the stakers to collaborate on creating the chain\u2019s blocks."}),"\n",(0,o.jsx)(t.p,{children:"A user who decides to actively participate in the network consensus needs to run a node and stake enough MLT tokens to pass a minimum threshold. Each round, an election is automatically enforced by the algorithm, where the user may be chosen as a \u201cparticipant\u201d. The higher the token stake, the higher the chances are to be selected."}),"\n",(0,o.jsx)(t.p,{children:"The selection mechanism uses hashes of the Bitcoin blocks as a randomization source to ensure an unbiased selection of the participants and randomly establish the order they will follow in the creation and validation of blocks."}),"\n",(0,o.jsx)(t.p,{children:"At a specific time in each round, every participant is requested to build and propagate a block for which all the transaction fees will be collected."}),"\n",(0,o.jsx)(t.p,{children:"The long-term security of the Mintlayer chain is guaranteed by a checkpoint system on the Bitcoin blockchain."}),"\n",(0,o.jsx)(t.h2,{id:"12-participation-in-the-network",children:"1.2. Participation in the network"}),"\n",(0,o.jsxs)(t.p,{children:["In order to become a \u201cparticipant\u201d for the round, it is necessary to stake MLT tokens (",(0,o.jsx)(t.a,{href:"/docs/whitepaper/token-and-public-sale#6-1-1-staking",children:"see \xa76"}),"). Anyone staking at least 0,01% of the total token supply has a chance to be selected by the algorithm. The 0,01% accounts for 40,000 MLT tokens upon the mainnet launch."]}),"\n",(0,o.jsxs)(t.p,{children:["There are 1008 member slots available, but a single user can be rewarded with more than one slot (",(0,o.jsx)(t.a,{href:"https://www.mintlayer.org/docs/consensus-paper.pdf",children:"see the DSA Consensus Paper \xa74-5"}),")."]}),"\n",(0,o.jsx)(t.p,{children:"MLT tokens must be staked two rounds before the desired participation round (active round). Tokens will be locked for the entire duration of 3 rounds (auction round, active round, and lock-in round)."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.em,{children:"Setup round"})," (round x-2): the user who wants to apply as a participant in round x must stake MLT tokens in one block of the round x-2. Tokens are not locked during this round."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.em,{children:"Auction round"})," (round x-1): the hash of the first Bitcoin block of the round x-1 is used as a source of entropy to determine the participants for the active round x. The participants are only selected from those who (a) have staked tokens in one block of the round x-2 and (b) did not move those coins at stake up until the beginning of the round x-1. Since the first block of the auction round, the funds staked by the selected users as participants are locked-in."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.em,{children:"Active round"})," (round x): the participants selected in the auction round x-1 generate and countersign blocks."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.em,{children:"Lock-in round"})," (round x+1): the participants of round x cannot move the locked-in tokens during the auction round."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"The extended timeframe during which the coins of the participants are locked in (about 3 weeks) discourages users that obtained a significant number of slots from any malicious behavior or any attack attempts, considering that they will be committed with a high stake in the chain and will not be able to move the MLT tokens for a long period."}),"\n",(0,o.jsx)(t.p,{children:"If a participant decides to renew his lock-in, the same stake used to participate in the previous auction round is also used to participate in the next round, thus effectively eliminating the need to wait for several rounds to pass to participate again. This implies that the validator holding a fixed share of the network stake can maintain approximately the same amount of slots for each round."}),"\n",(0,o.jsx)(t.p,{children:"Once a round is determined, each participant knows the number of blocks they will be able to create and at what block height they will be issued. Thus, users conducting a large number of transactions in the network would benefit from being in the participant\u2019s position as it grants them the possibility to include their own transactions in the blocks that they create while paying zero-fees for it. Therefore, those users would be economically incentivized to become MLT token holders and participants of the network."}),"\n",(0,o.jsx)(t.h2,{id:"13-block-frequency-and-size-limit",children:"1.3. Block frequency and size limit"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Block generation frequency on Mintlayer is dynamic:"})," each block proposer is given a timeframe during which there is a high probability of getting the block countersigned by other participants. That time frame spans between 1 and 2 minutes."]}),"\n",(0,o.jsx)(t.p,{children:"In case the Mintlayer mempool is empty of transactions, the block proposers have incentives to wait up to 2 minutes before creating and broadcasting the block in hopes to collect more fees from incoming transactions. If the blockchain is congested, the block proposers might be willing to create blocks faster, depending on their considerations on how the fee market will react and whether the network will benefit from a higher block issuing frequency."}),"\n",(0,o.jsx)(t.p,{children:"Hypothetically, if there are no transactions to be validated, the participant who is expected to create the block in that timeframe has no incentives for doing so, and neither do other participants in that round have any reason to replace him in the block generation. Such a system discourages network pollution with empty blocks, especially when the blockchain has just been launched."}),"\n",(0,o.jsx)(t.p,{children:"With the purpose of long-term sustainability, the block size limit is set to 1 MB so that, in theory, the blockchain size could not get larger than 525 GB per year even when fully saturated and with its block frequency at the peak. Furthermore, the pruning system, which is based on checkpoints, and the utreexo technology, which is used to reduce the size of the UTXO, dramatically reduce hardware storage requirements. Thanks to these optimizations, it will always be possible to run a full node on an average personal computer, fostering a more decentralized network."}),"\n",(0,o.jsx)(t.h2,{id:"14-checkpoint-system",children:"1.4. Checkpoint system"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"The checkpoint system serves three purposes:"})}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"To increase the security of the network, preventing long-range attacks."}),"\n",(0,o.jsx)(t.li,{children:"To decrease the initial blockchain download time (IBD) for users willing to run a node with a fast-sync mode."}),"\n",(0,o.jsx)(t.li,{children:"To discard (prune) the blockchain before a certain block height so that the space required on disk remains minimal."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Anyone can create a \u201cmarker\u201d on the Bitcoin blockchain in a Bitcoin transaction by using a specific OP_RETURN. The participant of the Mintlayer network can include that marker in a Mintlayer block, creating a checkpoint request. The checkpoint is consolidated and locally enforced by the nodes once the participants have validated enough Mintlayer blocks on top of that checkpoint request (",(0,o.jsx)(t.a,{href:"https://www.mintlayer.org/docs/consensus-paper.pdf",children:"see the Consensus paper \xa711-12"}),")."]}),"\n",(0,o.jsx)(t.p,{children:"Creating a checkpoint on the Bitcoin blockchain means to notarize or \u201csnapshot\u201d the status of Mintlayer so that the Bitcoin proof-of-work secures it. Anyone running a node with a fast-sync mode can download the blockchain starting from the latest checkpoint instead of downloading the whole blockchain. In the case of full-synch from the genesis block, it is always possible to prune the entire blockchain up to the checkpoint, saving most of the space otherwise required."}),"\n",(0,o.jsx)(t.p,{children:"While checkpoints allow for shrinking the blockchain\u2019s, the utreexo technology shrinks the size of the UTXO set, which is merkelized and reduced down to about 1 KB instead of several Gigabytes."}),"\n",(0,o.jsx)(t.h2,{id:"15-token-inclusivity",children:"1.5. Token inclusivity"}),"\n",(0,o.jsx)(t.p,{children:"In the cryptocurrency ecosystem, the blockchains supporting multiple tokens (such as Ethereum) force users to pay transaction fees in the native blockchain currency (e.g., ETH). The impossibility of transferring a token without having a \u201cgas\u201d bank in the native cryptocurrency creates entry barriers and introduces friction in user experience, preventing a broader network effect."}),"\n",(0,o.jsxs)(t.p,{children:["Mintlayer has no base currency to pay transaction fees. Instead, users can pay in any MLS-01 or MLS-02 (",(0,o.jsx)(t.a,{href:"/docs/whitepaper/tokenization-standard#3-2-5-gas-free-economy",children:"see \xa73.2.5"}),".) cryptocurrency they choose as long as the network participants are willing to accept it. Every block proposer can signal the list of tokens accepted in the block - the free market dictates its rules."]}),"\n",(0,o.jsx)(t.p,{children:"Because transactions do not necessarily pay fees in a determined gas token, it is possible to make transfers without owning more cryptocurrencies, or without storing and spending a gas bank in a token which is different from the ones transferred, which implies higher transaction costs and pollution for the network (UTXO dust)."})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);